---
id: 76c7643b
title: "LSP: Config loaded once and never refreshed during session"
tags: [important, lsp]
status: open
created_at: "2026-02-18T19:13:11.342Z"
---

**Important** â€” The `configLoaded` flag in `index.ts` caches the config for the entire session. If the user edits `.pi/lsp.json` (e.g., adds a new server), the change won't be picked up without restarting pi.

**Suggestion:** Reload config on each tool invocation, or at least on error/cache miss. The file read is cheap. Alternatively, re-check mtime before returning the cached config.
