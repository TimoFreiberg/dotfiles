---
id: 1730efd9
title: "LSP: Apply output truncation to prevent context overflow"
tags: [important, lsp]
status: done
created_at: "2026-02-18T19:13:18.256Z"
---

**Fixed** in commit `11f7546c`.

Imported `truncateHead`, `formatSize`, `DEFAULT_MAX_BYTES`, and `DEFAULT_MAX_LINES` from `@mariozechner/pi-coding-agent` and applied truncation as a final pass in the `okResult()` helper. All LSP tool results now go through the standard 50KB / 2000-line truncation. When truncation occurs, a summary line is appended showing original vs truncated sizes and which limit was hit.
